{% extends "base.html" %}

{% block title %}
Iniciar sesión
{% endblock %}

{% block main %}
  <h2 class="mb-3 text-info">Iniciar sesión</h2>
  <form action="/login" method="post"
    class="d-flex flex-column align-items-center mb-5 border border-2 rounded-3 shadow py-5 mx-auto needs-validation"
    novalidate>
    <!-- 
        Campo oculto que contiene un token CSRF. Este token se compara con el token almacenado 
        en el servidor para verificar la autenticidad de la solicitud y evitar ataques de 
        falsificación de solicitudes entre sitios Cross-Site Request Forgery (CSRF).
      -->
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <div class="form-group mb-3 d-flex flex-column align-items-start">
      <label for="username" class="form-label">Usuario:</label>
      <input type="text" name="username" id="username" class="form-control login-input" autocomplete="off" autofocus
        required>
      <div class="invalid-feedback text-start">
        Debe ingresar su nombre de usuario.
      </div>
    </div>
    <div class="form-group mb-3 d-flex flex-column align-items-start">
      <label for="password" class="form-label">Contraseña:</label>
      <input type="password" name="password" id="password" class="form-control login-input" required>
      <div class="invalid-feedback text-start">
        Debe ingresar su contraseña.
      </div>
    </div>
    <button type="submit" class="btn btn-primary mt-3 px-4">Iniciar sesión</button>
  </form>
  <div class="mt-3">
    <p>¿Todavía no tienes una cuenta? <a href="/register">Registrarse</a>.</p>
  </div>

  <script src="{{ url_for('static', filename='/scripts/custom-validation.js') }}"></script>
{% endblock %}